<style>
    .sevenDaysForecast {
        background-color: #2F2F2F;
        border-radius: 1vh;
    }

    .sevenDaysForecast .chart {
        width: 90%;
        height: 90%;
        margin: auto;
    }
</style>

<div class="sevenDaysForecast">
    <div class="chart" id="{{ chartId }}"></div>

    <script>
        function createChart_{{ chartId | replace('-', '_') }}()
        {
            let data = [{
                x: {{ formattedDates }},
                y: {{ maxValues }},
                text: {{ maxValues }},
                mode: 'lines+text',
                textfont: {
                    family: 'sans-serif',
                    size: 20,
                    color: 'rgba(230, 76, 60, 1)',
                },
                type: 'scatter',
                marker: {
                    color: 'rgba(230, 76, 60, 0.2)',
                    size: 10,
                },
                line: {
                    shape: 'spline',
                    color: 'rgba(230, 76, 60, 0.2)',
                    width: 3
                }
            },
                {
                    x: {{ formattedDates }},
                    y: {{ minValues }},
                    text: {{ minValues }},
                    mode: 'lines+text',
                    textfont: {
                        family: 'sans-serif',
                        size: 20,
                        color: 'rgba(70, 138, 221, 1))'
                    },
                    type: 'scatter',
                    marker: {
                        color: 'rgba(70, 138, 221, 0.2)',
                        size: 10,
                    },
                    line: {
                        shape: 'spline',
                        color: 'rgba(70, 138, 221, 0.2)',
                        width: 3
                    }
                }];

            let layout = {
                xaxis: {
                    showgrid: false,
                    visible: true,
                    tickformat: '%a',
                    tickvals: {{ formattedDates }},
                    tickfont: {
                        family: 'sans-serif',
                        size: 18,
                        color: 'white'
                    }
                },
                yaxis: {
                    showgrid: false,
                    zeroline: false,
                    visible: false,
                },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                showlegend: false,
                margin: {
                    b: 30,
                    l: 5,
                    r: 5,
                    t: 5
                },
                hovermode: false,
            };

            let config = {
                displayModeBar: false,
                displaylogo: false,
                responsive: true,
                locale: 'de'
            };

            Plotly.newPlot(document.getElementById('{{ chartId }}'), data, layout, config);
        }

        createChart_{{ chartId | replace('-', '_') }}();
    </script>
</div>
